<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="renderer" content="webkit">
		<meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width,viewport-fit=cover">
		<title>{{ &title }}</title>
		<meta name="keywords" content="{{ &keyWords }}" />
		<meta name="description" content="{{ &OPT.siteDescription }}" />
		<link rel='stylesheet' id='stylesheet-css' href='{{ &OPT.theme_github_path }}JustNews/files/main.css' type='text/css' media='all' />
		<link rel='stylesheet' id='font-awesome-css' href='{{ &OPT.theme_github_path }}JustNews/files/font-awesome.css?ver=6.1.2' type='text/css' media='all' />
		<link rel='stylesheet' id='wp-block-library-css' href='{{ &OPT.theme_github_path }}JustNews/files/WordPress/WordPress@5.5.3/wp-includes/css/dist/block-library/style.min.css?ver=5.6' type='text/css' media='all' />
		<link rel='stylesheet' id='wp-components-css' href='{{ &OPT.theme_github_path }}JustNews/files/WordPress/WordPress@5.5.3/wp-includes/css/dist/components/style.min.css?ver=5.6' type='text/css' media='all' />
		<link rel='stylesheet' id='wp-editor-font-css' href='{{ &OPT.theme_github_path }}JustNews/files/WordPress/noto+serif.css?ver=5.6' type='text/css' media='all' />
		<link rel='stylesheet' id='wp-block-editor-css' href='{{ &OPT.theme_github_path }}JustNews/files/WordPress/WordPress@5.5.3/wp-includes/css/dist/block-editor/style.min.css?ver=5.6' type='text/css' media='all' />
		<link rel='stylesheet' id='wp-nux-css' href='{{ &OPT.theme_github_path }}JustNews/files/WordPress/WordPress@5.5.3/wp-includes/css/dist/nux/style.min.css?ver=5.6' type='text/css' media='all' />
		<link rel='stylesheet' id='wp-editor-css' href='{{ &OPT.theme_github_path }}JustNews/files/WordPress/WordPress@5.5.3/wp-includes/css/dist/editor/style.min.css?ver=5.6' type='text/css' media='all' />
		<link rel='stylesheet' id='mux_video_block_style-css' href='{{ &OPT.theme_github_path }}JustNews/files/WordPress/mediacloud-mux.blocks.style.min.css' type='text/css' media='all' />
		<link rel='stylesheet' id='emojify-css' href='{{ &OPT.theme_github_path }}JustNews/files/emojify/emojify.min.css?ver=1.1.0' type='text/css' media='all' />
		<script type='text/javascript' src='{{ &OPT.theme_github_path }}JustNews/files/emojify/jquery.min.js?ver=3.5.1' id='jquery-core-js'></script>
		<script type='text/javascript' src='{{ &OPT.theme_github_path }}JustNews/files/WordPress/WordPress@5.6/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.3.2' id='jquery-migrate-js'></script>
		<script type='text/javascript' src='{{ &OPT.theme_github_path }}JustNews/files/WordPress/fonts/icons-2.6.4.js?ver=6.1.2' id='wpcom-icons-js'></script>
		<link rel="stylesheet" href="{{ &OPT.theme_github_path }}JustNews/files/WordPress/highlight.js/tomorrow-night-bright.min.css">
		<script src='{{ &OPT.theme_github_path }}JustNews/files/WordPress/highlight.min.js'></script>

		{{ &OPT.codeBeforHead }}
	</head>
	<body class="archive paged category category-zhishi category-5 paged-2 category-paged-2 lang-cn el-boxed">
		<header class="header">
			<div class="container clearfix">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
						<span class="icon-bar icon-bar-1"></span>
						<span class="icon-bar icon-bar-2"></span>
						<span class="icon-bar icon-bar-3"></span>
					</button>
					<div class="logo">
						{{ #OPT.logo }}
						<a href="/" rel="home"><img src="{{ &OPT.logo }}" alt="{{ &OPT.siteName }}"></a>
						{{ /OPT.logo }}
						
						{{ ^OPT.logo }}
						<a href="/" rel="home"><img src="{{ &OPT.theme_github_path }}JustNews/files/logo2.png" alt="请自定义OPT.logo"></a>
						{{ /OPT.logo }}
					</div>
				</div>
				<div class="collapse navbar-collapse">
					<nav class="navbar-left primary-menu">
						<ul id="menu-%e5%af%bc%e8%88%aa" class="nav navbar-nav wpcom-adv-menu">
							{{ #widgetMenuList }}
								<li class="menu-item"><a href="{{ &url }}">{{ &title }}</a></li>
							{{ /widgetMenuList }}
						</ul>
					</nav>
					
					<div id="searchModal">
                        <div id="searchContent">
                        <input type="text" class="searchInput" id="searchQuery" placeholder="请输入搜索关键词...">
                        <hr class="divider">
                        <div id="results"></div>
                </div>
</div>

					<div class="navbar-action pull-right">	
					<div class="navbar-search-ico" span id="searchIcon">
                           <img src="{{ &OPT.theme_github_path }}JustNews/sc.svg" alt="Search Icon" width="15.5" height="15.5">
</div>
						<div id="j-user-wrap">
							<a class="login cur" href="/admin">登录</a>
						</div>
					</div>
				</div>
			</div>
		</header>
		<div id="wrap">
			<div class="container wrap">


				<div class="main">
					<article id="post-{{ &articleSingle.id }}" class="post-{{ &articleSingle.id }} post type-post status-publish format-standard has-post-thumbnail hentry ">
						<div class="entry">
							<div class="entry-head">
								<h1 class="entry-title">{{ &articleSingle.title }}</h1>
								<div class="entry-info">
									<time class="entry-date published" datetime="{{ &articleSingle.createDate }}" pubdate="">{{ &articleSingle.createDate10 }}</time>
									<span class="dot">•</span>
									{{ #articleSingle.category }}
										<a href="/category/{{&.}}" rel="category tag">{{&.}}</a>
									{{ /articleSingle.category }}
									<span class="dot">•</span>
									<span id="{{ &articleSingle.url }}" class="leancloud_visitors">
										<em>{{ &OPT.otherCodeA }}</em>
										<i class="leancloud-visitors-count"></i>
									</span>
								</div>
							</div>
							<div class="entry-content">
								{{ &articleSingle.contentHtml }}
							</div>
							<div class="entry-footer">
								<div class="entry-tag">
									{{ #articleSingle.tags }}
										<a href="/tags/{{&.}}" rel="tag">{{&.}}</a>
									{{ /articleSingle.tags }}
								</div>

								<div class="entry-page">

									{{ #articleNewer }}	
									<div class="entry-page-prev j-lazy lazyloaded" style="background-image: url(&quot;{{ &img }}&quot;); display: block;" data-original="{{ &img }}" data-bg="{{ &img }}" fifu-width="392" fifu-height="86">
										<a href="{{ &url }}" title="{{ &title }}" rel="prev" >
											<span>{{ &title }}</span></a>
										<div class="entry-page-info">
											<span class="pull-left">
												<i class="wpcom-icon wi">
													<svg aria-hidden="true">
														<use xlink:href="#wi-arrow-left-double"></use>
													</svg>
												</i>上一篇</span>
											<span class="pull-right">{{ &createDate10 }}</span></div>
									</div>
									{{ /articleNewer }}

									{{ #articleOlder }}
									<div class="entry-page-next j-lazy lazyloaded" style="background-image: url(&quot;{{ &img }}&quot;); display: block;" data-original="{{ &img }}" data-bg="{{ &img }}" fifu-width="392" fifu-height="86">
										<a href="{{ &url }}" title="{{ &title }}" rel="next" >
											<span>{{ &title }}</span></a>
										<div class="entry-page-info">
											<span class="pull-right">下一篇
												<i class="wpcom-icon wi">
													<svg aria-hidden="true">
														<use xlink:href="#wi-arrow-right-double"></use></svg>
												</i>
											</span>
											<span class="pull-left">{{ &createDate10 }}</span></div>
									</div>
									{{ /articleOlder }}
								</div>
							</div>
							<div id="comments" class="entry-comments">
								{{ &OPT.commentCode }}
							</div>
						</div>
					</article>
				</div>

				<aside class="sidebar">
					<div id="wpcom-post-thumb-2" class="widget widget_post_thumb">
						<h3 class="widget-title">
							<span>近期文章</span></h3>
						<ul>
							{{ #widgetRecentlyList }}
							<li class="item">
								<div class="item-img">
									<a class="item-img-inner" href="{{ &url }}" title="{{ &title }}">
										<img width="480" height="264" src="{{ &img }}" class="attachment-post-thumbnail size-post-thumbnail wp-post-image j-lazy" alt="" title="" data-original="{{ &img }}" /></a>
								</div>
								<div class="item-content">
									<p class="item-title">
										<a href="{{ &url }}" title="{{ &title }}">{{ &title }}</a></p>
									<p class="item-date">{{ &createDate10 }}</p></div>
							</li>
							{{ /widgetRecentlyList }}									
						</ul>
					</div>
					<div id="categories-3" class="widget widget_categories">
						<h3 class="widget-title">
							<span>分类目录</span></h3>
						<ul>
							{{ #widgetCategoryList }}
							<li class="cat-item cat-item-5 current-cat">
								<a aria-current="page" href="/category/{{&.}}">{{&.}}</a></li>
							{{ /widgetCategoryList }}
						</ul>
					</div>
					<div id="tag_cloud-3" class="widget widget_tag_cloud">
						<h3 class="widget-title">
							<span>标签</span></h3>
						<div class="tagcloud">
							{{ #widgetTagsList }}
							<a href="/tags/{{&.}}" class="tag-cloud-link tag-link-6 tag-link-position-1" style="font-size: 8pt;" aria-label="{{&.}}">{{&.}}</a>
							{{ /widgetTagsList }}
						</div>
					</div>

					<div id="linkcat-0" class="widget widget_links">
						<h3 class="widget-title">
							<span>链接</span></h3>
						<ul class='xoxo blogroll'>
							{{ #widgetLinkList }}
									<li><a href="{{ &url }}" target="_blank">{{ &title }}</a></li>
							{{ /widgetLinkList }}
						</ul>
					</div>
					{{ &OPT.widgetOther }}
				</aside>
			</div>
		</div>
		<footer class="footer">
			<div class="container">
				<div class="clearfix">
					<div class="footer-col footer-col-copy">
						<div class="copyright">
							<p>{{ &OPT.copyRight }}</p>
						</div>
					</div>
					<div class="footer-col footer-col-sns">
						<div class="footer-sns"></div>
					</div>
				</div>
			</div>
		</footer>
		<div class="action action-style-0 action-color-0 action-pos-0" style="bottom:20%;">
			<div class="action-item gotop j-top">
				<i class="wpcom-icon wi action-item-icon">
					<svg aria-hidden="true">
						<use xlink:href="#wi-arrow-up-2"></use>
					</svg>
				</i>
			</div>
		</div>

<link rel='stylesheet' id='lazyload-spinner-css' href='{{ &OPT.theme_github_path }}JustNews/files/lazyload.css?ver=3.4.9' type='text/css' media='all' />


<style>
        :root {
            --search-modal-width: 40%; /* 弹出窗口宽度 */
            --search-modal-height: 80%; /* 弹出窗口高度 */
            --search-input-font-size: 16px; /* 搜索输入框字体大小 */
            --search-placeholder-font-size: 15px; /* 输入框提示文字字体大小 */
            --search-result-title-font-size: 15px; /* 搜索结果标题字体大小 */
            --search-result-content-font-size: 13px; /* 搜索结果内容字体大小 */
        }
		
		#results {
        max-height: calc(var(--search-modal-height) - 200px); /* 设置最大高度 */
        overflow-y: auto; /* 允许内容溢出时显示滚动条 */
    }
	.navbar-search-ico {
            display: inline-block; /* 或其他布局模式，如flex等 */
            vertical-align: middle; /* 根据需要调整垂直对齐方式 */
            margin-top: 5.3px; /* 搜索按钮上边距示例 */
	    margin-left: -10px;
	    position: absolute;
	    cursor: pointer;
        }	

        
        body {
            font-family: Arial, sans-serif;
        }
        
        #searchModal {
            display: none; 
            position: fixed;
            z-index: 1; 
            top: 0; 
            left: 0;
            right: 0; 
            bottom: 0;
            overflow-y: auto;
            background-color: rgba(0,0,0,0.4);

        }
		
		
        
        #searchContent {
            background-color: #fefefe;
            margin: 5% auto;
            padding: 20px;
            border: 1px solid #888;
            width: var(--search-modal-width);
            text-align: left;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            border-radius: 15px;
	    position: relative; /* 为绝对定位的子元素提供定位上下文 */
	    overflow-y: auto; /* 允许内容溢出时滚动 */
	    max-width: 900px; /* 您可以根据需要设定一个最大宽度，例如1200px */
	    min-width: 800px; /* 您可以根据需要设定一个最大宽度，例如1200px */
        }
        
        .searchInput {
            display: block;
            width: 100%;
            margin-bottom: 1rem;
            padding: 10px;
            border: none;
            outline: none;
            background-color: #ffffff;
            font-size: var(--search-input-font-size);
            box-sizing: border-box;
        }
        
        .searchInput::placeholder {
            font-size: var(--search-placeholder-font-size);
        }
        
        .divider {
            margin: 1rem 0;
            height: 1px;
            background-color: #ccc;
        }
        
        .searchResult {
            margin-bottom: 1rem;
            background-color: #f2f2f2;
            border-radius: 5px;
            transition: background-color 0.3s ease;
            cursor: pointer;
			padding: 1px 10px 5px 10px; /* 上左下右，调整上下的数值 */

        }
        .searchResult:hover {
            background-color: #ddd; /* 或者选择您希望的更深的颜色 */
        }

        .searchResult h3 {
            font-size: var(--search-result-title-font-size);
			font-weight: bold;
        }
        
        .searchResult p {
            font-size: var(--search-result-content-font-size);
        }
        
        .highlight {
            background-color: yellow;
        }
        
        .resultUrl {
            margin-top: 5px;
            color: #666;
            text-decoration: none;
        }
		
    </style>
	
		<script type='text/javascript' id='main-js-extra'>/* <![CDATA[ */	
			var _wpcom_js = {
				"webp": "",
				"ajaxurl": "",
				"theme_url": "",
				"slide_speed": "5000",
				"user_card_height": "356",
				"video_height": "482",
				"fixed_sidebar": "1",
				"login_url": "/admin",
				"register_url": "/admin",
				"errors": {
					"require": "\u4e0d\u80fd\u4e3a\u7a7a",
					"email": "\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u7535\u5b50\u90ae\u7bb1",
					"pls_enter": "\u8bf7\u8f93\u5165",
					"password": "\u5bc6\u7801\u5fc5\u987b\u4e3a6~32\u4e2a\u5b57\u7b26",
					"passcheck": "\u4e24\u6b21\u5bc6\u7801\u8f93\u5165\u4e0d\u4e00\u81f4",
					"phone": "\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7\u7801",
					"terms": "Please read and agree with the terms",
					"sms_code": "\u9a8c\u8bc1\u7801\u9519\u8bef",
					"captcha_verify": "\u8bf7\u70b9\u51fb\u6309\u94ae\u8fdb\u884c\u9a8c\u8bc1",
					"captcha_fail": "\u70b9\u51fb\u9a8c\u8bc1\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5",
					"nonce": "\u968f\u673a\u6570\u6821\u9a8c\u5931\u8d25",
					"req_error": "\u8bf7\u6c42\u5931\u8d25"
				},
				"follow_btn": "<i class=\"wpcom-icon wi\"><svg aria-hidden=\"true\"><use xlink:href=\"#wi-add\"><\/use><\/svg><\/i>\u5173\u6ce8",
				"followed_btn": "\u5df2\u5173\u6ce8",
				"user_card": "1"
			};
			/* ]]> */
			</script>
		<script type='text/javascript' src='{{ &OPT.theme_github_path }}JustNews/files/main.js?ver=6.1.2' id='main-js'></script>
        <script type='text/javascript' src='{{ &OPT.theme_github_path }}JustNews/files/WordPress/WordPress@5.6/wp-includes/js/comment-reply.min.js?ver=5.6' id='comment-reply-js'></script>
        <script type='text/javascript' src='{{ &OPT.theme_github_path }}JustNews/files/idiotWu/jquery.toc.min.js?ver=1.0.1' id='githuber-toc-js'></script>
        <script type='text/javascript' src='{{ &OPT.theme_github_path }}JustNews/files/WordPress/WordPress@5.5.3/wp-includes/js/clipboard.min.js?ver=5.6' id='clipboard-js'></script>
        <script type='text/javascript' src='{{ &OPT.theme_github_path }}JustNews/files/emojify.js@1.1.0/dist/js/emojify.min.js?ver=1.1.0' id='emojify-js'></script>
        <script type='text/javascript' src='{{ &OPT.theme_github_path }}JustNews/files/wp-embed.js?ver=6.1.2' id='wp-embed-js'></script>
        <script type='text/javascript' src='{{ &OPT.theme_github_path }}JustNews/files/lazySizesConfig.js?ver=3.4.9' id='lazysizes-config-js'></script>
        <script type='text/javascript' src='{{ &OPT.theme_github_path }}JustNews/files/aFarkas/lazysizes@5.2.2/plugins/unveilhooks/ls.unveilhooks.min.js?ver=5.6' id='unveilhooks-js'></script>
        <script type='text/javascript' src='{{ &OPT.theme_github_path }}JustNews/files/aFarkas/lazysizes@5.2.2/plugins/bgset/ls.bgset.min.js?ver=5.6' id='bgset-js'></script>
        <script type='text/javascript' src='{{ &OPT.theme_github_path }}JustNews/files/aFarkas/lazysizes@5.2.2/lazysizes.min.js?ver=5.6' id='lazysizes-js'></script>
        <script type='text/javascript' id='fifu-image-js-js-extra'>
		
			var fifuImageVars = {
				"fifu_lazy": "1",
				"fifu_woo_lbox_enabled": "1",
				"fifu_woo_zoom": "inline",
				"fifu_is_product": "",
				"fifu_is_flatsome_active": "",
				"fifu_rest_url": "",
				"fifu_nonce": "96a15ffec7"
			};
			/* ]]> */
			</script>
		<script type='text/javascript' src='{{ &OPT.theme_github_path }}JustNews/files/image.js?ver=3.4.9' id='fifu-image-js-js'></script>

		<script id="module-clipboard">(function($) {
				$(function() {
					var pre = document.getElementsByTagName("pre");
					var pasteContent = document.getElementById("paste-content");
					var hasLanguage = false;
					for (var i = 0; i < pre.length; i++) {
						var codeClass = pre[i].children[0].className;
						var isLanguage = codeClass.indexOf("language-");
						var excludedCodeClassNames = ["language-katex", "language-seq", "language-sequence", "language-flow", "language-flowchart", "language-mermaid", ];
						var isExcluded = excludedCodeClassNames.indexOf(codeClass);
						if (isExcluded !== -1) {
							isLanguage = -1;
						}
						if (isLanguage !== -1) {
							var button = document.createElement("button");
							button.className = "copy-button";
							button.textContent = "Copy";
							pre[i].appendChild(button);
							hasLanguage = true;
						}
					};
					if (hasLanguage) {
						var copyCode = new ClipboardJS(".copy-button", {
							target: function(trigger) {
								return trigger.previousElementSibling;
							}
						});
						copyCode.on("success",
						function(event) {
							event.clearSelection();
							event.trigger.textContent = "Copied";
							window.setTimeout(function() {
								event.trigger.textContent = "Copy";
							},
							2000);
						});
					}
				});
			})(jQuery);
			</script>
			
<script id="module-emojify">(function($) {
				$(function() {
					if (typeof emojify !== "undefined") {
						emojify.setConfig({
							img_dir: "https://cdn.jsdelivr.net/npm/emojify.js@1.1.0/dist/images/basic",
							blacklist: {
								"classes": ["no-emojify"],
								"elements": ["script", "textarea", "pre", "code"]
							}
						});
						emojify.run();
					} else {
						console.log("[wp-githuber-md] emogify is undefined.");
					}
				});
			})(jQuery);</script>		
		<script>
    // 假设遮罩层的ID为'modalBackdrop'
document.getElementById('searchIcon').addEventListener('click', function() {
    document.getElementById('modalBackdrop').style.display = 'block'; // 显示遮罩层
    document.getElementById('searchWindow').style.display = 'block'; // 显示搜索窗口
	
    
});

window.onclick = function(event) {
    // 确保点击事件只在直接点击遮罩层时触发隐藏逻辑
    if (event.target === document.getElementById('modalBackdrop') && event.target !== event.currentTarget) {
        document.getElementById('modalBackdrop').style.display = 'none';
        document.getElementById('searchWindow').style.display = 'none';
    }
};
    window.onclick = function(event) {

        if (event.target == document.getElementById('searchModal')) {

            document.getElementById('searchModal').style.display = 'none';
			document.getElementById('results').innerHTML = ''; // 关闭时清空搜索结果
			document.getElementById('searchQuery').value = ''; // 清空搜索框

        }

    };
	


document.addEventListener('keydown', function(event) {
    if (event.key === "Escape") {
        document.getElementById('searchModal').style.display = 'none';
        // 按下Esc键时隐藏
        document.getElementById('results').innerHTML = '';
		document.getElementById('searchQuery').value = ''; // 清空搜索框
    }
});


document.getElementById('searchIcon').addEventListener('click', function() {
    document.getElementById('searchModal').style.display = 'block'; // 显示搜索窗口
    document.getElementById('searchQuery').focus(); // 聚焦在输入框内
});

document.getElementById('searchQuery').addEventListener('input', function() {
    var query = this.value.trim();
    var resultsContainer = document.getElementById('results');

    if (query === '') {
        resultsContainer.innerHTML = ''; // 清空搜索结果
        resultsContainer.style.display = 'none'; // 隐藏搜索列表
    } else {
        resultsContainer.style.display = 'block'; // 显示搜索列表
        // 执行你的搜索逻辑
        // 例如：根据 'query' 显示搜索结果
    }
});

	
	

    // 示例函数，用于动态调整窗口大小和字体大小
    function updateModalSize(width, height, inputFontSize, placeholderFontSize, titleFontSize, contentFontSize) {
        document.documentElement.style.setProperty('--search-modal-width', width);
        document.documentElement.style.setProperty('--search-modal-height', height);
        document.documentElement.style.setProperty('--search-input-font-size', inputFontSize + 'px');
        document.documentElement.style.setProperty('--search-placeholder-font-size', placeholderFontSize + 'px');
        document.documentElement.style.setProperty('--search-result-title-font-size', titleFontSize + 'px');
        document.documentElement.style.setProperty('--search-result-content-font-size', contentFontSize + 'px');
    }

    // 示例调用函数以改变大小（您可以根据需要调用这个函数）
    // updateModalSize('50%', '90%', 18, 16, 20, 18);
    
</script>

<script>

    document.getElementById('searchIcon').addEventListener('click', function() {

        document.getElementById('searchModal').style.display = 'block';

    });






    async function loadXML() {

        try {

            const response = await fetch('https://git.bitwld.com/https://raw.githubusercontent.com/usjinbao/cfblog-plus/master/Data/search.xml'); // xml地址使用相对路径

            if (!response.ok) throw new Error('Failed to fetch XML file.');

            const xmlText = await response.text();

            const parser = new DOMParser();

            return parser.parseFromString(xmlText, 'application/xml');

        } catch (error) {

            console.error('Error loading XML:', error);

            return null;

        }

    }



    let xmlDoc = null;

    loadXML().then(data => xmlDoc = data);



    function highlightKeyword(text, keyword) {

        const regex = new RegExp(`(${keyword})`, 'gi');

        return text.replace(regex, `<span class="highlight">$1</span>`);

    }



    function performSearch(query) {
    if (!xmlDoc) return;

    const blogs = xmlDoc.getElementsByTagName('blog');
    let results = '';
    let count = 0; // 计数器

    for (let i = 0; i < blogs.length; i++) {
        const titleElement = blogs[i].getElementsByTagName('title')[0];
        const contentElement = blogs[i].getElementsByTagName('content')[0];
        const urlElement = blogs[i].getElementsByTagName('url')[0];
        const timeElement = blogs[i].getElementsByTagName('time')[0];

        if (titleElement && contentElement && urlElement && timeElement) {
            const title = titleElement.textContent;
            const content = contentElement.textContent;
            const url = urlElement.textContent;
            const time = timeElement.textContent;

            if (title.toLowerCase().includes(query.toLowerCase()) || content.toLowerCase().includes(query.toLowerCase())) {
                const keywordIndex = content.toLowerCase().indexOf(query.toLowerCase());

                if (keywordIndex !== -1) {
                    const snippetStart = Math.max(0, keywordIndex - 100);
                    const snippetEnd = Math.min(content.length, keywordIndex + query.length + 100);
                    const snippet = content.substring(snippetStart, snippetEnd);
                    const highlightedSnippet = highlightKeyword(snippet, query);

                    results += `
                        <div class="searchResult" onclick="window.location.href='${url}'">
                            <h3>${highlightKeyword(title, query)}</h3>
                            <p>${highlightedSnippet}</p>
                            <div class="resultUrl">本文地址：${url} - 发布时间：${time}</div>
                        </div>
                    `;
                    count++;
                } else {
                    results += `
                        <div class="searchResult" onclick="window.location.href='${url}'">
                            <h3>${highlightKeyword(title, query)}</h3>
                            <p>${highlightKeyword(content.slice(0, 200), query)}...</p>
                            <div class="resultUrl">本文地址：${url} - 发布时间：${time}</div>
                        </div>
                    `;
                    count++;
                }
            }
        }
    }

    const resultsContainer = document.getElementById('results');
    if (results) {
        resultsContainer.innerHTML = results;
        resultsContainer.style.maxHeight = '550px'; // 设置固定高度
        resultsContainer.style.overflowY = 'auto'; // 显示滚动条
    } else {
        resultsContainer.innerHTML = '<p>没有找到匹配的结果。</p>';
        resultsContainer.style.maxHeight = 'none'; // 恢复默认高度
        resultsContainer.style.overflowY = 'hidden'; // 隐藏滚动条
    }
}

document.getElementById('searchQuery').addEventListener('input', () => {
    const query = document.getElementById('searchQuery').value.trim();
    performSearch(query);
});

</script>

<script>hljs.initHighlightingOnLoad(); //代码高亮
					</script>
        {{ &OPT.codeBeforBody }}
	</body>

</html>
